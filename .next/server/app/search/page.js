(()=>{var e={};e.id=797,e.ids=[797],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},272:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>p,routeModule:()=>g,tree:()=>c});var s=r(3449),a=r(4437),n=r(4804),i=r.n(n),o=r(8939),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5441)),"/Users/thonasjefferson/Desktop/next mATER/src/app/search/page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,2730)),"/Users/thonasjefferson/Desktop/next mATER/src/app/search/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9738))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5289)),"/Users/thonasjefferson/Desktop/next mATER/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,1422,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9738))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["/Users/thonasjefferson/Desktop/next mATER/src/app/search/page.tsx"],d="/search/page",u={require:r,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7831:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6494,23)),Promise.resolve().then(r.t.bind(r,3047,23)),Promise.resolve().then(r.t.bind(r,5465,23)),Promise.resolve().then(r.t.bind(r,3073,23)),Promise.resolve().then(r.t.bind(r,9373,23)),Promise.resolve().then(r.t.bind(r,9382,23))},9533:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2516,23)),Promise.resolve().then(r.t.bind(r,5414,23))},2592:()=>{},4482:(e,t,r)=>{"use strict";r.d(t,{FS:()=>g,GP:()=>u,US:()=>c,kn:()=>d,vO:()=>x,wF:()=>l,wv:()=>p});var s=r(1269),a=r(1964);let n=e=>e.map(e=>{let t=e.reviews.filter(e=>null!==e.rating),r=t.length||1;return{...e,avgRating:t.reduce((e,t)=>e+(t?.rating||0),0)/r}});function i(e,t){return e.avgRating>t.avgRating?1:t.avgRating>e.avgRating?-1:0}function o(e,t){return e.avgRating>t.avgRating?-1:t.avgRating>e.avgRating?1:0}let l=async()=>{let{productsConnection:e}=await (0,s.p)(a.Fe,{skip:0,first:20});return e.aggregate.count},c=async(e,t,r)=>{let l=(e-1)*t;if("asc"===r){let{products:e}=await (0,s.p)(a.an,{skip:l,first:t});return e}if("averageRating_ASC"===r){console.log("avg asc");let{products:e}=await (0,s.p)(a.Ro,{});return n(e).sort(i)}if("averageRating_DESC"===r){console.log("avg desc");let{products:e}=await (0,s.p)(a.Ro,{});return n(e).sort(o)}{let{products:e}=await (0,s.p)(a.Fe,{skip:l,first:t});return e}},p=e=>(0,s.p)(a.PI,{id:e}),d=async e=>(await (0,s.p)(a.f6,{name:e})).products,u=e=>(0,s.p)(a.cl,{categoryName:e}),g=e=>(0,s.p)(a.H7,{id:e}),x=async({id:e,content:t,email:r,headline:n,name:i,rating:o})=>{let{createReview:l}=await (0,s.p)(a.rh,{id:e,content:t,headline:n,email:r,name:i,rating:o});l&&console.log("published",await (0,s.p)(a.qG,{id:l?.id}))}},2730:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(6532);async function a(){return(0,s.jsxs)("main",{className:"mx-auto min-h-screen max-w-7xl",children:[s.jsx("h1",{className:"pb-20 text-4xl font-extrabold first-letter:uppercase",role:"heading",children:"Search Results"}),s.jsx("p",{className:"pb-20 text-2xl font-extrabold first-letter:uppercase",role:"heading",children:"Loading..."})]})}},5441:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(6532),a=r(4482),n=r(860);async function i({searchParams:e}){let t=e.query||"",r=await (0,a.kn)(t);return(0,s.jsxs)("main",{className:"mx-auto min-h-screen max-w-7xl",children:[s.jsx("h1",{className:"pb-20 text-4xl font-extrabold first-letter:uppercase",role:"heading",children:"Search Results"}),0===r.length?s.jsx("p",{className:"pb-20 text-2xl font-extrabold first-letter:uppercase",role:"heading",children:"No results found"}):s.jsx(n.c,{products:r})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[985,788,643,538,6],()=>r(272));module.exports=s})();